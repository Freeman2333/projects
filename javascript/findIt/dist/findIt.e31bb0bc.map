{"version":3,"sources":["redditApi.js","index.js"],"names":["search","searchTerm","searchLimit","sortBy","fetch","then","res","json","data","children","map","catch","err","console","log","searchForm","document","querySelector","searchBtn","searchInput","addEventListener","e","value","showMessage","reddit","results","output","forEach","post","image","preview","images","source","url","title","truncateString","selftext","subreddit","score","innerHTML","preventDefault","message","className","div","createElement","appendChild","createTextNode","searchContainer","insertBefore","setTimeout","remove","myString","limit","shortened","indexOf","substring"],"mappings":"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","file":"findIt.e31bb0bc.map","sourceRoot":"..","sourcesContent":["\r\nexport default {\r\n\tsearch: function (searchTerm, searchLimit, sortBy) {\r\n\t\treturn fetch(`http://www.reddit.com/search.json?q=${searchTerm}&sort=${sortBy}&limit=${searchLimit}`)\r\n\t\t\t.then(res=> res.json())\r\n\t\t\t.then(data =>  data.data.children.map(data=> data.data))\r\n\t\t\t.catch(err=> console.log(err));\r\n\t}\r\n}","\r\nimport reddit from './redditApi.js';\r\n\r\nconst searchForm = document.querySelector('#search-form');\r\nconst searchBtn = document.querySelector('#search-btn');\r\nconst searchInput = document.querySelector('#search-input');\r\n\r\nsearchForm.addEventListener(\"submit\", e=>{\r\n\r\n\tconst sortBy = document.querySelector('input[name=\"sortby\"]:checked').value;\r\n\r\n\tconst searchLimit = document.querySelector(\"#limit\").value;\r\n\r\n\tconst searchTerm = searchInput.value;\r\n\r\n\tif (searchTerm =='') {\r\n\t\tshowMessage(\"Please add a search term\",\"alert-danger\");\r\n\t}\r\n\r\n\tsearchInput.value = '';\r\n\r\n\treddit.search(searchTerm, searchLimit, sortBy)\r\n\t.then(results =>{\r\n\t\tlet output =`<div class=\"card-columns\">`;\r\n\t\t// console.log(results)\r\n\t\tresults.forEach(post=>{\r\n\t\t\tlet image = post.preview ? post.preview.images[0].source.url : 'https://cdn.comparitech.com/wp-content/uploads/2017/08/reddit-1.jpg';\r\n\r\n\t\t\toutput += `\r\n\t\t\t<div class=\"card mb-2\">\r\n\t\t      <img class=\"card-img-top\" src=\"${image}\" alt=\"Card image cap\">\r\n\t\t      <div class=\"card-body\">\r\n\t\t        <h5 class=\"card-title\">${post.title}</h5>\r\n\t\t        <p class=\"card-text\">${truncateString(post.selftext, 100)}</p>\r\n\t\t        <a href=\"${post.url}\" target=\"_blank\r\n\t\t        \" class=\"btn btn-primary\">Read More</a>\r\n\t\t        <hr>\r\n\t\t        <span class=\"badge badge-secondary\">Subreddit: ${post.subreddit}</span> \r\n\t\t        <span class=\"badge badge-dark\">Score: ${post.score}</span>\r\n\t\t      </div>\r\n\t\t    </div>\r\n\t\t\t`;\r\n\t\t});\r\n\t\toutput += '</div>';\r\n\t\tdocument.querySelector('#results').innerHTML = output;\r\n\t});\r\n\r\n\r\n\te.preventDefault();\r\n});\r\n\r\n\r\nfunction showMessage(message, className) {\r\n\tconst div = document.createElement('div');\r\n\r\n\tdiv.className = `alert ${className}`;\r\n\r\n\tdiv.appendChild(document.createTextNode(message));\r\n\r\n\tconst searchContainer = document.querySelector(\"#search-container\");\r\n\r\n\tconst search = document.querySelector(\"#search\");\r\n\r\n\tsearchContainer.insertBefore(div,search);\r\n\r\n\tsetTimeout(function () {\r\n\t\tdocument.querySelector('.alert').remove()\r\n\t},3000)\r\n}\r\n\r\n\r\nfunction truncateString(myString, limit){\r\n\tconst shortened = myString.indexOf('',limit);\r\n\tif (shortened == -1) return myString;\r\n\treturn myString.substring(0,shortened);\r\n}"]}